# Real-Time Taxi Fare Prediction Service

This project demonstrates a simple real-time price prediction micro-service for a ride-hailing company (e.g. Uber, Lyft).  
It consists of:

1. **Backend (FastAPI)** – REST endpoint `/predict` that returns an estimated fare in real-time.
2. **Machine-Learning Model** – A random-forest regressor trained on synthetic trip data, persisted as `model.joblib`.
3. **Frontend** – Minimal HTML/JS page to collect trip details and display the predicted fare.

## Directory Structure

```
.
├── backend
│   ├── main.py         # FastAPI app (run this with uvicorn)
│   ├── model.joblib    # Saved ML model (generated by train_model.py)
│   └── train_model.py  # Script to (re)train the model
├── frontend
│   └── index.html      # UI client
├── requirements.txt    # Python dependencies
└── README.md           # This file
```

## Getting Started

### 1. Install Dependencies

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

### 2. Train or Re-Train the Model (optional)

```bash
python backend/train_model.py
```
A new `model.joblib` will be saved under `backend/`.

### 3. Start The API Server

```bash
uvicorn backend.main:app --reload --port 8000
```
The endpoint is now available at `http://localhost:8000/predict` (interactive docs at `/docs`).

### 4. Open Frontend

Since the HTML file uses a relative path (`/predict`) to reach the API, you can simply open it in a browser **if** the API is served from the same origin.  
For local testing you may run a simple static file server:

```bash
cd frontend
python -m http.server 8080
```
Then browse to `http://localhost:8080`.

## API Reference

`POST /predict`

Request JSON:
```json
{
  "pickup_lat": 40.755,
  "pickup_lon": -73.987,
  "dropoff_lat": 40.729,
  "dropoff_lon": -73.993,
  "passenger_count": 2,
  "pickup_datetime": "2025-08-06T15:30:00Z"
}
```
Response JSON:
```json
{
  "predicted_fare": 18.73
}
```

## Notes & Future Improvements

* Replace synthetic training data with real trip histories (e.g. NYC TLC data set).
* Add features such as traffic, weather, and dynamic surge multipliers.
* Deploy behind HTTPS with authentication & rate-limiting.
* Continuously retrain / monitor model drift.

